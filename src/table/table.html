<div #Scroll class="scroll-area" (scroll)="onScroll()">
    <table>
        <thead>
        <tr>
            <th #TH #LH *ngIf="showIndex" class="index z-header" [style.width.px]="LHIWidth()">#</th>
            <th #TH *ngIf="collection.showCheckbox" nzShowCheckbox [(nzChecked)]="allChecked"
                [nzIndeterminate]="indeterminate"
                (nzCheckedChange)="checkAll($event)"></th>
            <th #TH *ngFor="let header of collection.headers"
                [style.width]="toString(header.width)"
                [style.minWidth]="toString(header.minWidth)"
                [style.maxWidth]="toString(header.maxWidth)"
                [nzShowSort]="header.allowSort"
                (nzSortChange)="sort(header.value, $event)">
                {{header.label}}
            </th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of collection.data; let row = index" [class.active]="item === collection.currentItem"
            (click)="click(item)" (dblclick)="dblClick(item)">
            <td #LH *ngIf="showIndex" class="header">{{index(row)}}</td>
            <td *ngIf="collection.showCheckbox" nzShowCheckbox [(nzChecked)]="item.$checked"
                (nzCheckedChange)="refreshStatus(item)"></td>
            <td *ngFor="let header of collection.headers" [style.color]="color(item, header)">
                <a href="javascript:" *ngIf="header.click" (click)="header.click(item, header)">{{collection.getValue(item, header)}}</a>
                <ng-container *ngIf="!header.click"> {{collection.getValue(item, header)}}</ng-container>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<div [hidden]="!collection.pending">
    <div class="ant-spin ant-spin-show-text ant-spin-spinning">
        <span class="ant-spin-dot ant-spin-dot-spin"><i></i><i></i><i></i><i></i></span>
        <div class="ant-spin-text">Loading...</div>
    </div>
</div>
